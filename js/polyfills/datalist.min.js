!function(a,b,c,d){"use strict";var e="input[list]",f=d.doc,g=!1,h="aria-activedescendent",i="aria-expanded",j="aria-hidden",k=function(b){var f,i,j,k,l,m,n,o,p,q=b.target,r=q.id;if(b.currentTarget===q){for(f=a(q),i="<ul role='listbox' id='wb-al-"+q.id+"' class='wb-al hide' aria-hidden='true' aria-live='polite'></ul>",j=c.getElementById(q.getAttribute("list")),k=j.getElementsByTagName("option"),l=k.length,d.remove(e),q.setAttribute("autocomplete","off"),q.setAttribute("role","textbox"),q.setAttribute("aria-haspopup","true"),q.setAttribute("aria-autocomplete","list"),q.setAttribute("aria-owns","wb-al-"+r),q.setAttribute(h,""),i+="<ul id='wb-al-"+q.id+"-src' class='wb-al-src hide' aria-hidden='true'>",p=0;p!==l;p+=1)m=k[p],n=m.getAttribute("value"),o=m.getAttribute("label"),n||(n=m.innerHTML),i+="<li id='al-opt-"+r+"-"+p+"'><a href='javascript:;' tabindex='-1'><span class='al-val'>"+(n?n:"")+"</span><span class='al-lbl'>"+(o&&o!==n?o:"")+"</span></a></li>";f.after(i+"</ul>"),g=!0}},l=function(b,c){var d,e=a(b.nextSibling),f=e.next().children().clone();c&&0!==c.length&&(d=c.toLowerCase(),f=f.filter(function(){var b=a(this),c=b.find("span.al-val").html();return 0===c.length&&(c=b.find("span.al-lbl").html()),0===d.length||-1!==c.toLowerCase().indexOf(d)})),e.empty().append(f),0!==f.length?(n(b),e.removeClass("hide").attr(j,"false"),b.setAttribute(i,"true")):(e.addClass("hide").attr(j,"true"),b.setAttribute(i,"false"))},m=function(a){var b=a.nextSibling;b.className+=" hide",b.innerHTML="",b.setAttribute(j,"true"),a.setAttribute(i,"false"),a.setAttribute(h,"")},n=function(b){var c=a(b),d=c.next();d.css({width:c.outerWidth(),left:c.position().left})},o=function(b,c){var d,e,f,g,i=c.target,j=i.nextSibling,k=-1!==j.className.indexOf("hide");if(32===b||b>47&&91>b||b>95&&112>b||b>159&&177>b||b>187&&223>b)c.altKey||l(i,i.value+String.fromCharCode(b));else if(8!==b||c.altKey){if((38===b||40===b)&&""===i.getAttribute(h))return k&&l(i),d=j.getElementsByTagName("a"),e=d[38===b?d.length-1:0],i.setAttribute(h,e.parentNode.getAttribute("id")),a(e).trigger("setfocus.wb"),!1;k||(9===b||27===b||27===b&&!c.altKey)&&m(i)}else f=i.value,g=f.length,0!==g&&l(i,f.substring(0,g-1))},p=function(b,c){var d,e,f,g,i,j=c.parentNode.parentNode,k=j.previousSibling,n=a(k);return 32===b||b>47&&91>b||b>95&&112>b||b>159&&177>b||b>187&&223>b?(k.value+=String.fromCharCode(b),n.trigger("setfocus.wb"),l(k,k.value),!1):8===b?(f=k.value,g=f.length,0!==g&&(k.value=f.substring(0,g-1),l(k,k.value)),n.trigger("setfocus.wb"),!1):13===b?(d=c.getElementsByTagName("span"),f=d[0].innerHTML,0===f.length&&(f=d[1].innerHTML),k.value=f,n.trigger("setfocus.wb"),m(k),!1):9===b||27===b?(n.trigger("setfocus.wb"),m(k),!1):38===b||40===b?(38===b?(e=c.parentNode.previousSibling,e||(i=j.getElementsByTagName("li"),e=i[i.length-1])):(e=c.parentNode.nextSibling,e||(e=j.getElementsByTagName("li")[0])),e=e.getElementsByTagName("a")[0],k.setAttribute(h,e.parentNode.getAttribute("id")),a(e).trigger("setfocus.wb"),!1):void 0},q=function(b){var c=b.nodeName.toLowerCase(),d="a"===c?b:b.parentNode,e=d.parentNode.parentNode,f=e.previousSibling,g=a(f),h=d.getElementsByTagName("span"),i=h[0].innerHTML;return 0===i.length&&(i=h[1].innerHTML),f.value=i,g.trigger("setfocus.wb"),m(f),!1};f.on("timerpoke.wb wb-init.wb-datalist keydown click vclick touchstart",e,function(a){var b=a.target,c=a.type,d=a.which;switch(c){case"timerpoke":case"wb-init":k(a);break;case"keydown":if(!a.ctrlKey&&!a.metaKey)return o(d,a);break;case"click":case"vclick":case"touchstart":if(!d||1===d)return-1===b.nextSibling.className.indexOf("hide")?m(b):l(b,b.value),!1}return!0}),f.on("keydown click vclick touchstart",".wb-al a, .wb-al span",function(a){var b=a.target,c=a.type,d=a.which;switch(c){case"keydown":if(!a.ctrlKey&&!a.metaKey)return p(d,b);break;case"click":case"vclick":case"touchstart":if(!d||1===d)return q(b)}}),f.on("focusin txt-rsz.wb win-rsz-width.wb win-rsz-height.wb",function(b){var c,d,h,i,j,k="focusin"===b.type,l=b.target,o=l?l.id:null;if(g)for(c=f.find(e).get(),j=c.length,i=0;i!==j;i+=1)d=c[i],k?(h=d.nextSibling,-1!==h.className.indexOf("hide")||o===d.id||o===h.id||a.contains(h,l)||m(d)):n(d)}),d.add(e)}(jQuery,window,document,wb);