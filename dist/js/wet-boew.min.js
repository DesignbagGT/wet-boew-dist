/*! Web Experience Toolkit (WET) / Boîte à outils de l'expérience Web (BOEW) wet-boew.github.io/wet-boew/License-en.html / wet-boew.github.io/wet-boew/Licence-fr.html
 - v4.0.0-a1-development - 2013-09-18
*/
!function(a){var b,c,d;return b=void 0,d={"default":"wet-boew"},c={init:function(c){return b=a(this),a.extend(d,c||{}),b},show:function(c){return b=a(this),b.each(function(){var b;return b=a(this),b.attr("aria-hidden","false"),null==c?b.removeClass("wb-invisible"):void 0})},hide:function(c){return b=a(this),b.each(function(){var b;return b=a(this),b.attr("aria-hidden","true"),null==c?b.addClass("wb-invisible"):void 0})},toggle:function(b,c){return a(this).addClass(b).removeClass(c)}},a.fn.wb=function(b){return c[b]?c[b].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof b&&b?a.error("Method "+b+" does not exist on jquery.wb"):c.init.apply(this,arguments)}}(jQuery,window,document),function(a){var b,c;return b=function(b,d,e){var f,g,h,i;return i=b.nodeName.toLowerCase(),"area"===i?(g=b.parentNode,h=g.name,b.href&&h&&"map"===g.nodeName.toLowerCase()?(f=a("img[usemap=#"+h+"]")[0],!!f&&c(f)):!1):e?(/input|select|textarea|button|object/.test(i)?!b.disabled:"a"===i?b.href||d:d)&&c(b):/input|select|textarea|button|object/.test(i)?!b.disabled:"a"===i?b.href||d:d},c=function(b){return a.expr.filters.visible(b)&&!a(b).parents().addBack().filter(function(){return"hidden"===a.css(this,"visibility")}).length},a.extend(a.expr[":"],{data:a.expr.createPseudo?a.expr.createPseudo(function(b){return function(c){return!!a.data(c,b)}}):function(b,c,d){return!!a.data(b,d[3])},focusable:function(c){return b(c,!isNaN(a.attr(c,"tabindex")),!0)},discoverable:function(c){return b(c,!isNaN(a.attr(c,"tabindex")))},tabable:function(c){var d,e;return e=a.attr(c,"tabindex"),d=isNaN(e),(d||e>=0)&&b(c,!d)}})}(jQuery,window,document),function(a,b,c){var d;return a.ajaxSettings.cache=!1,d=function(){var a,b,c,d,e,f,g;for(a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",f=10,d="",g=0;f>g;)b=Math.floor(2*Math.random()),0===b?(c=Math.floor(9*Math.random()),d+=c):(e=Math.floor(Math.random()*a.length),d+=a.substring(e,e+1)),g++;return d},a(c).on("wb.ajax-fetch",function(b){var c,e,f;return c=b.element,f=b.fetch,e="wb"+d(8),a('<div id="'+e+'" />').load(f,function(){return a(c).trigger({type:"wb.ajax-fetched",pointer:a(this)})}),void 0})}(jQuery,window,document),function(a,b,c){return a(c).on("wb.timerpoke",".wb-carousel",function(){var b,c,d;return d=a(this),"undefined"==typeof d.attr("data-delay")?(d.trigger("carousel.init.wb"),void 0):d.hasClass("stopped")?void 0:(c=parseFloat(d.attr("data-delay")),b=parseFloat(d.attr("data-ctime")),b+=.5,b>c&&(d.trigger("wb.shift"),b=0),d.attr("data-ctime",b))}),a(c).on("carousel.init.wb",".wb-carousel",function(){var b,c;return c=a(this),b=6,c.hasClass("slow")&&(b=9),c.hasClass("fast")&&(b=3),c.find(".item:not(.in)").addClass("out"),c.attr("data-delay",b).attr("data-ctime",0)}),a(c).on("click",".wb-carousel .prv, .wb-carousel .nxt, .wb-carousel .plypause",function(b){var c,d,e,f,g,h;switch(b.preventDefault(),e=a(this),h=e.parents(".wb-carousel"),f=h.find(".item"),d=parseInt(f.index(".in")),d=0>d?0:d,c=e.attr("class")){case"prv":g=0>d-1?f.length-1:d-1,e.trigger("wb.shift",{shiftto:g});break;case"nxt":g=d+1>f.length?0:d+1,e.trigger("wb.shift",{shiftto:g});break;default:h.toggleClass("stopped")}return h.attr("data-ctime",0)}),a(c).on("wb.shift",".wb-carousel",function(b){var c,d,e,f;return f=a(this),d=f.find(".item"),c=d.index(".in"),e=b.shiftto?b.shiftto:c+1>d.length?0:c+1,d.eq(c).removeClass("in").addClass("out"),d.eq(e).removeClass("out").addClass("in")}),b._timer.add(".wb-carousel")}(jQuery,window,document),function(a,b,c){return a.ajaxSettings.cache=!1,a(c).on("wb.timerpoke","[data-ajax-after]",function(){var d,e;return console.log("ok ajax-after inited"),b._timer.remove("[data-ajax-after]"),d=a(this),e=d.data("ajax-after"),a(c).trigger({type:"wb.ajax-fetch",element:d,fetch:e}),void 0}),a(c).on("wb.ajax-fetched","[data-ajax-after]",function(b){var c;return c=a(this),c.after(b.pointer.html()),c.trigger("wb.ajax-after-loaded"),void 0}),b._timer.add("[data-ajax-after]")}(jQuery,window,document),function(a,b,c){return a.ajaxSettings.cache=!1,a(c).on("wb.timerpoke","[data-ajax-append]",function(){var d,e;return b._timer.remove("[data-ajax-append]"),d=a(this),e=d.data("ajax-append"),a(c).trigger({type:"wb.ajax-fetch",element:d,fetch:e}),void 0}),a(c).on("wb.ajax-fetched","[data-ajax-append]",function(b){var c;return c=a(this),c.append(b.pointer.html()),c.trigger("wb.ajax-append-loaded"),void 0}),b._timer.add("[data-ajax-append]")}(jQuery,window,document),function(a,b,c){return a.ajaxSettings.cache=!1,a(c).on("wb.timerpoke","[data-ajax-before]",function(){var d,e;return console.log("ok ajax-after inited"),b._timer.remove("[data-ajax-before]"),d=a(this),e=d.data("ajax-before"),a(c).trigger({type:"wb.ajax-fetch",element:d,fetch:e}),void 0}),a(c).on("wb.ajax-fetched","[data-ajax-before]",function(b){var c;return c=a(this),c.before(b.pointer.html()),c.trigger("wb.ajax-after-loaded"),void 0}),b._timer.add("[data-ajax-before]")}(jQuery,window,document),function(a,b,c){return a(c).on("wb.timerpoke",".wb-inview",function(){var c,d;return b._timer.remove(".wb-inview"),d=a(this),c=d.find(".pg-banner, .pg-panel"),c.attr("role","toolbar").attr("aria-hidden","true"),a(b).on("scroll scrollstop resize",function(){return d.trigger("scroll.wb-inview")}),d.on("scroll.wb-inview",function(){var d,e,f,g,h,i,j,k,l,m,n,o,p,q;return p=a(this),q=a(b),e=p.outerWidth(),d=p.outerHeight(),k=q.width(),j=q.height(),i=q.scrollTop(),g=q.scrollLeft(),h=g+e,f=i+j,l=p.offset().left,m=l+e,n=p.offset().top,o=n+d,n>f||i>o||l>h||h>m?c.removeClass("in").addClass("out").wb("hide",!0):c.removeClass("out").addClass("in").wb("show",!0),void 0}),d.trigger("scroll.wb-inview")}),b._timer.add(".wb-inview")}(jQuery,window,document),function(a,b,c){return a.ajaxSettings.cache=!1,a(c).on("wb.timerpoke","[data-ajax-replace]",function(){var c,d;return c=a(this),d=c.data("ajax-replace"),c.load(d,function(){return a(this).trigger("wb.ajax-replace-loaded")}),b._timer.remove("[data-ajax-replace]"),void 0}),b._timer.add("[data-ajax-replace]")}(jQuery,window,document),function(a,b,c){var d,e;return d=a(c),e=function(b,c){var d,e,f;return d=a(b),e=d.hasClass("wb-menu")?d:d.parents(".wb-menu").first(),f=c?e.data("items").has(b):e.data("items"),[e.data("self"),e.data("menu"),f,d]},d.on("wb.ajax-replace-loaded",".wb-menu",function(b){var c,d,e;return b.stopPropagation(),c=a(this),e=c.find(".menu :focusable"),d=c.find(".item"),c.data("self",c).data("menu",e).data("items",d),c.find(":discoverable").attr("tabindex","-1").eq(0).attr("tabindex","0"),e.filter("[href^='#']").append('<span class="expandicon"></span>'),void 0}),d.on("mouseover focusin",".wb-menu .menu :focusable",function(a){var b,c,d,f,g;return a.stopPropagation(),g=e(a.target),b=g[0],f=g[1],d=g[2],c=g[3],f.trigger("wb.reset"),c.find(".expandicon").length>0?f.trigger({type:"wb.display",ident:c.attr("href")}):void 0}),d.on("keydown",".wb-menu .menu",function(a){var b,c,d,f,g,h,i,j,k;return a.stopPropagation(),k=e(a.target),d=k[0],j=k[1],i=k[2],f=k[3],c=a.which,h=j.index(f.get(0)),f.find(".expandicon").length>0&&(13===c||40===c)&&(a.preventDefault(),b=f.attr("href").slice(1),g=i.filter('[id="'+b+'"]').find(":discoverable").first(),console.log(b),d.trigger({type:"wb.display",ident:f.attr("href")}).trigger({type:"wb.select","goto":g})),9===c&&d.trigger({type:"wb.reset"}),37===c&&(a.preventDefault(),d.trigger({type:"wb.increment",cnode:j,increment:-1,current:h})),39===c?(a.preventDefault(),d.trigger({type:"wb.increment",cnode:j,increment:1,current:h})):void 0}),d.on("keydown",".wb-menu .item",function(a){var b,c,d,f,g,h,i,j,k;return a.stopPropagation(),k=e(a.target,!0),c=k[0],j=k[1],h=k[2],d=k[3],b=a.which,i=h.find(":focusable"),g=i.index(d.get(0)),(27===b||37===b)&&(a.preventDefault(),f=j.filter('[href="#'+h.attr("id")+'"]'),c.trigger({type:"wb.select","goto":f})),38===b&&(a.preventDefault(),c.trigger({type:"wb.increment",cnode:i,increment:-1,current:g})),40===b?(a.preventDefault(),c.trigger({type:"wb.increment",cnode:i,increment:1,current:g})):void 0}),d.on("mouseleave focusout",".wb-menu",function(){return a(this).trigger("wb.menu-reset")}),d.on("wb.select",".wb-menu",function(a){var b;return a.stopPropagation(),b=a.goto,setTimeout(function(){return b.focus()},1)}),d.on("wb.increment",".wb-menu",function(b){var c,d,e,f;return b.stopPropagation(),c=a(this),e=b.cnode,f=b.current+b.increment,d=f,f>=e.length&&(d=0),0>f&&(d=e.length-1),c.trigger({type:"wb.select","goto":e.eq(d)}),void 0}),d.on("wb.reset",".wb-menu",function(b){var c;return b.stopPropagation(),c=a(this),c.find(".open").removeClass("open"),c.find(".active").removeClass("active")}),d.on("wb.display",".wb-menu",function(b){var c;return b.stopPropagation(),c=a(this),c.trigger({type:"wb.reset"}),c.find(".menu [href='"+b.ident+"']").addClass("active"),c.find(b.ident).addClass("open")})}(jQuery,window,document),function(a,b,c){"use strict";var d=a(c),e={events:!1,selector:"[data-picture]",init:function(){b._timer.remove(e.selector),b.Modernizr.load({test:b.matchMedia,nope:"site!deps/matchMedia.min.js",load:"site!deps/picturefill.min.js",complete:function(){e.events===!1&&(e.events=!0,d.on("wb-data-picture.init",b.picturefill)),d.trigger("wb-data-picture.init")}})}};d.on("wb.timerpoke",e.selector,e.init),b._timer.add(e.selector)}(jQuery,window,document),function(a,b,c){"use strict";var d=a(c),e={events:!1,selector:".wb-toggle",state:{},stateOn:"on",stateOff:"off",init:function(){var c=a(this);b._timer.remove(e.selector),e.events===!1&&(e.events=!0,d.on("wb-toggle.ariaControls",e.selector,e.setAriaControls).on("wb-toggle.toggle",e.selector,e.toggle).on("click",e.selector,e.click)),void 0!==c.data("selector")?c.trigger("wb-toggle.ariaControls",{selector:c.data("selector"),parent:c.data("parent")}):a.error(".wb-toggle: you must specify a [data-selector] attribute with the CSS selector of the element(s) the toggle link controls.")},setAriaControls:function(b,c){var d,e,f,g=void 0!==c.parent?a(c.parent).find(c.selector):a(c.selector),h="",i=a(this);for(e=0,f=g.length;f>e;e++)d=g.eq(e),void 0===d.attr("id")&&d.attr("id","wb-toggle_"+e),h+=d.attr("id")+" ";i.attr("aria-controls",h.slice(0,-1))},click:function(b){var c=a(this);c.trigger("wb-toggle.toggle",{selector:c.data("selector"),parent:c.data("parent"),type:c.data("type")}),b.preventDefault(),b.target.focus()},toggle:function(b,c){var d=void 0!==c.parent?a(c.parent).find(c.selector):a(c.selector),f=e.getState(c.selector,c.parent,c.type),g=f===e.stateOn?e.stateOff:e.stateOn;d.wb("toggle",g,f),e.setState(c.selector,c.parent,g)},getState:function(a,b,c){return void 0===c?e.state.hasOwnProperty(a)?e.state[a].hasOwnProperty(b)?e.state[a][b]:e.state[a].all:e.stateOff:c===e.stateOn?e.stateOff:e.stateOn},setState:function(a,b,c){var d;if(void 0===e.state[a]&&(e.state[a]={all:e.stateOff}),void 0!==b)e.state[a][b]=c;else for(d in e.state[a])e.state[a].hasOwnProperty(d)&&(e.state[a][d]=c)}};d.on("wb.timerpoke",e.selector,e.init),b._timer.add(e.selector)}(jQuery,window,document);