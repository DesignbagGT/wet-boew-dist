/*! Web Experience Toolkit (WET) / Boîte à outils de l'expérience Web (BOEW) wet-boew.github.io/wet-boew/License-en.html / wet-boew.github.io/wet-boew/Licence-fr.html
 - v4.0.0-a1-development - 2013-09-25
*/
!function(a){var b,c,d;return b=void 0,d={"default":"wet-boew"},c={init:function(c){return b=a(this),a.extend(d,c||{}),b},show:function(c){return b=a(this),b.each(function(){var b;return b=a(this),b.attr("aria-hidden","false"),null==c?b.removeClass("wb-invisible"):void 0})},hide:function(c){return b=a(this),b.each(function(){var b;return b=a(this),b.attr("aria-hidden","true"),null==c?b.addClass("wb-invisible"):void 0})},toggle:function(b,c){return a(this).addClass(b).removeClass(c)}},a.fn.wb=function(b){return c[b]?c[b].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof b&&b?a.error("Method "+b+" does not exist on jquery.wb"):c.init.apply(this,arguments)}}(jQuery,window,document),function(a){var b,c;return b=function(b,d,e){var f,g,h,i;return i=b.nodeName.toLowerCase(),"area"===i?(g=b.parentNode,h=g.name,b.href&&h&&"map"===g.nodeName.toLowerCase()?(f=a("img[usemap=#"+h+"]")[0],!!f&&c(f)):!1):e?(/input|select|textarea|button|object/.test(i)?!b.disabled:"a"===i?b.href||d:d)&&c(b):/input|select|textarea|button|object/.test(i)?!b.disabled:"a"===i?b.href||d:d},c=function(b){return a.expr.filters.visible(b)&&!a(b).parents().addBack().filter(function(){return"hidden"===a.css(this,"visibility")}).length},a.extend(a.expr[":"],{data:a.expr.createPseudo?a.expr.createPseudo(function(b){return function(c){return!!a.data(c,b)}}):function(b,c,d){return!!a.data(b,d[3])},focusable:function(c){return b(c,!isNaN(a.attr(c,"tabindex")),!0)},discoverable:function(c){return b(c,!isNaN(a.attr(c,"tabindex")))},tabable:function(c){var d,e;return e=a.attr(c,"tabindex"),d=isNaN(e),(d||e>=0)&&b(c,!d)}})}(jQuery,window,document),function(a,b,c){var d,e;return d={},e=function(){"use strict";var b,d,e,f;return f="{{",b="}}",d="[a-z0-9_$][\\.a-z0-9_]*",e=new RegExp(f+"\\s*("+d+")\\s*"+b,"gi"),function(b,f){return b.replace(e,function(b,e){var g,h,i;for(d=e.split("."),h=d.length,i=f,g=0;h>g;){if(i=i[d[g]],i===c&&a.error("template-parser: '"+d[g]+"' not found in "+b),g===h-1)return i;g++}})}}(),b.tmpl=e}(jQuery,window,void 0),function(a,b,c){var d,e;return d=c.doc,a.ajaxSettings.cache=!1,e=function(){var a,b,c,d,e,f,g;for(a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",f=10,d="",g=0;f>g;)b=Math.floor(2*Math.random()),0===b?(c=Math.floor(9*Math.random()),d+=c):(e=Math.floor(Math.random()*a.length),d+=a.substring(e,e+1)),g++;return d},d.on("ajax-fetch.wb",function(b){var c,d,f;return c=b.element,f=b.fetch,d="wb"+e(8),a('<div id="'+d+'" />').load(f,function(){return a(c).trigger({type:"ajax-fetched.wb",pointer:a(this)})}),void 0})}(jQuery,window,vapour),function(a,b,c){var d;return d=c.doc,d.on("timerpoke.wb carousel-init.wb shift.wb",".wb-carousel",function(b){var c,d,e,f,g,h,i,j;switch(c=b.type,j=a(this),c){case"timerpoke":return"undefined"==typeof j.attr("data-delay")?(j.trigger("carousel-init.wb"),void 0):j.hasClass("stopped")?void 0:(i=parseFloat(j.attr("data-delay")),e=parseFloat(j.attr("data-ctime")),e+=.5,e>i&&(j.trigger("shift.wb"),e=0),j.attr("data-ctime",e));case"carousel-init":return f=6,j.hasClass("slow")&&(f=9),j.hasClass("fast")&&(f=3),j.find(".item:not(.in)").addClass("out"),j.attr("data-delay",f).attr("data-ctime",0);case"shift":return g=j.find(".item"),d=g.index(".in"),h=b.shiftto?b.shiftto:d+1>g.length?0:d+1,g.eq(d).removeClass("in").addClass("out"),g.eq(h).removeClass("out").addClass("in")}}),d.on("click",".wb-carousel .prv, .wb-carousel .nxt, .wb-carousel .plypause",function(b){var c,d,e,f,g,h;switch(b.preventDefault(),e=a(this),h=e.parents(".wb-carousel"),f=h.find(".item"),d=parseInt(f.index(".in")),d=0>d?0:d,c=e.attr("class")){case"prv":g=0>d-1?f.length-1:d-1,e.trigger("shift.wb",{shiftto:g});break;case"nxt":g=d+1>f.length?0:d+1,e.trigger("shift.wb",{shiftto:g});break;default:h.toggleClass("stopped")}return h.attr("data-ctime",0)}),b._timer.add(".wb-carousel")}(jQuery,window,vapour),function(a,b,c){var d;return d=c.doc,a.ajaxSettings.cache=!1,d.on("timerpoke.wb ajax-fetched.wb","[data-ajax-append]",function(c){var e,f,g;switch(e=c.type,f=a(this),e){case"timerpoke":return b._timer.remove("[data-ajax-after]"),g=f.data("ajax-after"),d.trigger({type:"ajax-fetch.wb",element:f,fetch:g}),void 0;case"ajax-fetched":return f.after(c.pointer.html()),f.trigger("ajax-after-loaded.wb"),void 0}}),b._timer.add("[data-ajax-after]")}(jQuery,window,vapour),function(a,b,c){var d;return d=c.doc,a.ajaxSettings.cache=!1,d.on("timerpoke.wb ajax-fetched.wb","[data-ajax-append]",function(c){var e,f,g;switch(e=c.type,f=a(this),e){case"timerpoke":return b._timer.remove("[data-ajax-append]"),g=f.data("ajax-append"),d.trigger({type:"ajax-fetch.wb",element:f,fetch:g}),void 0;case"ajax-fetched":return f.append(c.pointer.html()),f.trigger("ajax-append-loaded.wb"),void 0}}),b._timer.add("[data-ajax-append]")}(jQuery,window,vapour),function(a,b,c){var d;return d=c.doc,a.ajaxSettings.cache=!1,d.on("timerpoke.wb ajax-fetched.wb","[data-ajax-before]",function(c){var e,f,g;switch(e=c.type,f=a(this),e){case"timerpoke":return b._timer.remove("[data-ajax-before]"),g=f.data("ajax-before"),d.trigger({type:"ajax-fetch.wb",element:f,fetch:g}),void 0;case"ajax-fetched":return f.before(c.pointer.html()),f.trigger("ajax-after-loaded.wb"),void 0}}),b._timer.add("[data-ajax-before]")}(jQuery,window,vapour),function(a,b,c){var d;return d=c.doc,d.on("timerpoke.wb",".wb-inview",function(){var d,e,f;return f=c.win,b._timer.remove(".wb-inview"),e=a(this),d=e.find(".pg-banner, .pg-panel"),d.attr("role","toolbar").attr("aria-hidden","true"),f.on("scroll scrollstop resize",function(){return e.trigger("scroll.wb-inview")}),e.on("scroll.wb-inview",function(){var b,c,e,g,h,i,j,k,l,m,n,o,p,q;return p=a(this),q=f,c=p.outerWidth(),b=p.outerHeight(),k=q.width(),j=q.height(),i=q.scrollTop(),g=q.scrollLeft(),h=g+c,e=i+j,l=p.offset().left,m=l+c,n=p.offset().top,o=n+b,n>e||i>o||l>h||h>m?d.removeClass("in").addClass("out").wb("hide",!0):d.removeClass("out").addClass("in").wb("show",!0),void 0}),e.trigger("scroll.wb-inview")}),b._timer.add(".wb-inview")}(jQuery,window,vapour),function(a,b,c){var d;return d=c.doc,a.ajaxSettings.cache=!1,d.on("timerpoke.wb","[data-ajax-replace]",function(){var c,d;return c=a(this),d=c.data("ajax-replace"),c.load(d,function(){return c.removeAttr("data-ajax-replace").trigger("ajax-replace-loaded.wb")}),b._timer.remove("[data-ajax-replace]"),void 0}),b._timer.add("[data-ajax-replace]")}(jQuery,window,vapour),function(a,b,c,d,f){"use strict";var g,h,i,j,k,l,m,n,o,p,q,r,t,u;return g=a(c),j=".wet-boew-multimedia, .wb-multimedia",i=0,k=!1,h=c.documentElement.lang,m=function(a){var b,c,d,e,f;for(e=function(a,b){return Array(Math.max(b-String(a).length+1,0)).join(0)+a},f="",a=Math.floor(a),c=2;c>=0;)d=Math.pow(60,c),b=Math.floor(a/d),""!==f&&(f+=":"),f+=e(b,2),a-=d*b,c-=1;return f},q=function(a){var b,c,d,e,g;if(d=0,a!==f){if("s"===a.charAt(a.length-1))return parseFloat(a.substring(0,a.length-1));for(c=a.split(":").reverse(),b=0,g=c.length;g>b;)e=0===b?parseFloat(c[b]):parseInt(c[b],10),d+=e*Math.pow(60,b),b+=1;return d}return-1},l=function(b,c){var d,e,g;return g=a(b),d=g.data("properties"),c!==f?(e=d.player,[g,d,e]):[g,g.data("properties")]},p=function(b){var c,d,e;return d=".wet-boew-tt",e=b.find(d),c=[],e.each(function(){var b,d,e,g,h;return e=a(this),b=-1,g=-1,e.attr("data-begin")!==f?(b=q(e.attr("data-begin")),g=e.attr("data-end")!==f?q(e.attr("data-end")):q(e.attr("data-dur"))+b):e.attr("data")!==f&&(h=e.attr("data"),h=h.replace(/(begin|dur|end)/g,'"$1"').replace(/'/g,'"'),h=a.parseJSON(h),b=q(h.begin),g=void 0!==h.end?q(h.end):q(h.dur)+b),d=d.clone(),d.find(s).detach(),c[c.length]={text:d.html(),begin:b,end:g}}),c},r=function(b){var c,d,g;return d="[begin]",g=b.find(d),c=[],g.each(function(){var b,g,h;return g=a(this),b=-1,h=-1,b=q(g.attr("begin")),h=g.attr("end")!==f?q(g.attr("end")):q(g.attr("dur"))+b,g=e.clone(),g.find(d).detach(),c[c.length]={text:g.html(),begin:b,end:h}}),c},n=function(b,c){return a.ajax({url:c,context:evtmgr,dataType:"html",dataFilter:function(a){return a.replace(/<img [^>]*>/g,"")},success:function(c){var d;return d={type:"captionsloaded.mediaplayer.wb"},d.captions=c.indexOf("<html")>-1?p(a(c)):r(a(c)),a(b).trigger(d)},error:function(c,d,e){return a(b).trigger({type:"captionsloadfailed.mediaplayer.wb",error:e})}})},o=function(b,c){var d;return d={type:"captionsloaded.mediaplayer.wb",captions:p(c)},a(b).trigger(d)},u=function(b,c,d){var e,f,g,h;for(b.empty(),f=0,g=d.length,h=[];g>f;)e=d[f],c>=e.begin&&c<=e.end&&b.append(a("<div>"+e.text+"</div>")),h.push(f+=1);return h},t=function(b,c){var d,e,f,g;switch(b){case"play":try{return this.object.play()}catch(h){return e=h,this.object.doPlay()}break;case"pause":try{return this.object.pause()}catch(h){return e=h,this.object.doPause()}break;case"getCaptionsVisible":return d=a(this),d.find(".wb-mm-captionsarea").is(":visible");case"setCaptionsVisible":return d=a(this),c?d.find(".wb-mm-captionsarea").show():d.find(".wb-mm-captionsarea").hide(),d.trigger("captionsvisiblechange.mediaplayer.wb");case"setPreviousTime":return this.object.previousTime=c;case"setBuffering":return this.object.buffering=c;default:if(g=b.substr(0,3),f=b.substr(3),f=f.substr(0,1).toLowerCase()+f.substr(1),"get"===g)return"function"!=typeof this.object[f]?this.object[f]:this.object[f]();if("set"===g)return"function"!=typeof this.object[f]?this.object[f]=c:this.object[b](c)}},g.on("timerpoke.wb",j,function(){return b._timer.remove(j),k?void 0:(k=!0,g.trigger({type:"ajax-fetch.wb",element:a(j),fetch:""+d.getPath("/assets")+"/mediacontrol-"+h+".txt"}))}),g.on("ajax-fetched.wb",j,function(b){var c,d;return d=a(this),c=b.pointer.html(),d.data("template",c),d.trigger({type:"init.mediaplayer.wb"})}),g.on("init.mediaplayer.wb",j,function(){var b,c,d,e,g,h,j,k,l;return h=a(this),d=h.attr("id")!==f?h.attr("id"):"wb-mediaplayer-"+i++,g=h.children("audio, video").eq(0),e=g.attr("id")!==f?g.attr("id"):""+d+"-media",j=g.is("video")?"video":"audio",k="video"===j?g.attr("width"):"0",c="video"===j?g.attr("height"):"0",b=g.children("track[kind='captions']")?g.children("track[kind='captions']").attr("src"):f,l={id:d,media:g,m_id:e,type:j,height:c,width:k,object:""},g.attr("id")===f&&g.attr("id",e),h.data("properties",l),null===g.get(0).error&&""!==g.get(0).currentSrc&&g.get(0).currentSrc!==f?h.trigger(""+j+".mediaplayer.wb"):h.trigger("fallback.mediaplayer.wb")}),g.on("fallback.mediaplayer.wb",j,function(){var a,b,c,e;return e=l(this),c=e[0],a=e[1],a.flashvars="id="+a.id,b=d.getPath("/assets")+"/multimedia.swf?"+a.flashvars,a.poster="","video"===a.type?(a.poster='<img src="'+a.media.attr("poster")+'" class="img-responsive" height="'+a.height+'" width="'+a.width+'" alt="'+a.media.attr("title")+'"/>',a.flashvars="&height="+a.media.height()+"&width="+a.media.width()+"&posterimg="+encodeURI(d.getUrlParts(a.media.attr("poster")).absolute)+"&media="+encodeURI(d.getUrlParts(a.media.find("source").filter('[type="video/mp4"]').attr("src")).absolute)):a.flashvars="&media="+encodeURI(d.getUrlParts(a.media.find("source").filter("[type='audio/mp3']").attr("src")).absolute),a.sObject='<object id="'+a.m_id+'" width="'+a.width+'" height="'+a.height+'" class="'+a.type+'" type="application/x-shockwave-flash" data="'+b+'" tabindex="-1"><param name="movie" value="'+b+'"/><param name="flashvars" value="'+a.flashvars+'"/><param name="allowScriptAccess" value="always"/><param name="bgcolor" value="#000000"/><param name="wmode" value="opaque"/>'+a.poster+"</object>",c.data("properties",a),c.trigger("wb.mediaplayer.renderui")}),g.on("video.mediaplayer.wb",j,function(){var a,b,c;return c=l(this),b=c[0],a=c[1],a.sObject=a.media.wrap("<div />").parent().html(),a.poster='<img src="'+a.media.attr("poster")+'" class="img-responsive" height="'+a.height+'" width="'+a.width+'" alt="'+a.media.attr("title")+'"/>',b.data("properties",a),b.trigger("renderui.mediaplayer.wb")}),g.on("audio.mediaplayer.wb",j,function(){var a,b,c;return c=l(this),b=c[0],a=c[1],c}),g.on("renderui.mediaplayer.wb",j,function(){var b,c,d,e;return e=l(this),d=e[0],b=e[1],d.html(tmpl(d.data("template"),b)),c=a("#"+b.m_id),b.player=c.is("object")?c.children(":first-child"):c.load(),b.player.on("durationchange play pause ended volumechange timeupdate captionsloaded captionsloadfailed captionsvisiblechange waiting canplay progress",function(a){return d.trigger(a)}),this.object=c.get(0),this.player=t,d.data("properties",b)}),g.on("click",j,function(b){var c,d,e;return c=a(b.target),2===b.which||3===b.which?!1:((c.hasClass("playpause")||c.is("object")||c.hasClass("wb-mm-overlay"))&&(this.player("getPaused")===!0?this.player("play"):this.player("pause")),c.hasClass("cc")&&this.player("setCaptionsVisible",!this.player("getCaptionsVisible")),c.hasClass("mute")&&this.player("setMuted",!this.player("getMuted")),(c.is("progress")||c.hasClass("wb-progress-inner")||c.hasClass("wb-progress-outer"))&&(d=(b.pageX-c.offset().left)/c.width(),this.player("setCurrentTime",this.player("getDuration")*d)),(c.hasClass("rewind")||c.hasClass("fastforward"))&&(e=.05*this.player("getDuration"),c.hasClass("rewind")&&(e*=-1),this.player("setCurrentTime",this.player("getCurrentTime")+e)),!0)}),g.on("keydown",j,function(a){var b,c,d,e;return e=l(this),c=e[0],b=e[1],d=0,32!==a.which&&13!==a.which||a.target!==this.player?37===a.keyCode?(c.find(".wb-mm-controls .rewind").click(),!1):39===a.keyCode?(c.find(".wb-mm-controls .fastforward").click(),!1):38===a.keyCode?(d=Math.round(10*this.player.getVolume())/10+.1,d=1>d?d:1,$player.setVolume(d),!1):40===a.keyCode?(d=Math.round(10*this.player.getVolume())/10-.1,d=d>0?d:0,this.player.setVolume(d),!1):!0:(c.find(".wb-mm-controls .playpause").click(),!1)}),g.on("durationchange play pause ended volumechange timeupdate captionsloaded captionsloadfailed captionsvisiblechange waiting canplay progress",j,function(b){var c,d,e,h;switch(c=a(this),b.type){case"play":this.player("play"),d=c.find(".playpause .glyphicon"),d.removeClass("glyphicon-play").addClass("glyphicon-pause").end().attr("title",d.data("state-off")),c.find(".wb-mm-overlay img").css("visibility","hidden"),c.find(".progress").addClass("active");break;case"pause":this.player("pause"),d=c.find(".playpause .glyphicon"),d.removeClass("glyphicon-pause").addClass("glyphicon-play").end().attr("title",d.data("state-on")),c.find(".progress").removeClass("active");break;case"ended":d=c.find(".playpause .glyphicon"),d.removeClass("glyphicon-pause").addClass("glyphicon-play").end().attr("title",d.data("state-on")),c.find(".wb-mm-overlay").css("visibility","show");break;case"volumechange":d=c.find(".mute .glyphicon"),this.player("getMuted")?d.removeClass("glyphicon-volume-up").addClass("glyphicon-volume-off").end().attr("title",d.data("state-on")):d.removeClass("glyphicon-volume-off").addClass("glyphicon-volume-up").end().attr("title",d.data("state-off"));break;case"timeupdate":e=Math.round(1e3*(this.player("getCurrentTime")/this.player("getDuration")))/10,h=c.find("progress"),h.attr("value",e),c.find(".wb-mm-timeline-current span:not(.wb-invisible)").text(m(this.player("getCurrentTime"))),a.data(b.target,"captions")!==f&&u(c.find(".wb-mm-captionsarea"),this.player("getCurrentTime"),a.data(b.target,"captions"));break;case"captionsloaded":a.data(b.target,"captions",b.captions);break;case"captionsloadfailed":c.find(".wb-mm-captionsarea").append("<p>ERROR: WB0342</p>");break;case"captionsvisiblechange":d=c.find(".cc .glyphicon"),this.player("getCaptionsVisible")?d.attr("title",d.data("state-on")).css("opacity","1"):d.attr("title",d.data("state-off")).css("opacity",".5")}return g.on("loadcaptions.mediaplayer.wb",j,function(){var a,b,c;return c=l(this),b=c[0],a=c[1],c})}),b._timer.add(j)}(jQuery,window,document,vapour,void 0),function(a,b,c){var d,e;return d=c.doc,e=function(b,c){var d,e,f;return d=a(b),e=d.hasClass("wb-menu")?d.data():d.parents(".wb-menu").first().data(),f=c?e.items.has(b):e.items,[e.self,e.menu,f,d]},d.on("ajax-replace-loaded.wb mouseleave focusout select.wb increment.wb reset.wb display.wb",".wb-menu",function(b){var c,d,e,f,g,h,i,j;switch(j=b.type,c=a(this),j){case"ajax-replace-loaded":return b.stopPropagation(),c.has("[data-post-remove]")&&c.removeClass(c.data("post-remove")).removeAttr("data-post-remove"),h=c.find(".menu :focusable"),f=c.find(".item"),c.find(":discoverable").attr("tabindex","-1").eq(0).attr("tabindex","0"),h.filter("[href^='#']").append('<span class="expandicon"></span>'),c.data({self:c,menu:h,items:f}),void 0;case"mouseleave":case"focusout":return c.trigger("reset.wb");case"select":return b.stopPropagation(),d=b.goto,setTimeout(function(){return d.focus()},1);case"increment":return b.stopPropagation(),g=b.cnode,i=b.current+b.increment,e=i,i>=g.length&&(e=0),0>i&&(e=g.length-1),c.trigger({type:"select.wb","goto":g.eq(e)}),void 0;case"reset":return b.stopPropagation(),c.find(".open").removeClass("open"),c.find(".active").removeClass("active");case"display":return b.stopPropagation(),c.trigger({type:"reset.wb"}),c.find(".menu [href='"+b.ident+"']").addClass("active"),c.find(b.ident).addClass("open")}}),d.on("mouseover focusin",".wb-menu .menu :focusable",function(a){var b,c,d,f,g;return a.stopPropagation(),g=e(a.target),b=g[0],f=g[1],d=g[2],c=g[3],f.trigger("reset.wb"),c.find(".expandicon").length>0?f.trigger({type:"display.wb",ident:c.attr("href")}):void 0}),d.on("keydown",".wb-menu .menu",function(a){var b,c,d,f,g,h,i,j,k;switch(a.stopPropagation(),k=e(a.target),d=k[0],j=k[1],i=k[2],f=k[3],c=a.which,h=j.index(f.get(0)),c){case 13:case 40:if(f.find(".expandicon").length>0)return a.preventDefault(),b=f.attr("href").slice(1),g=i.filter('[id="'+b+'"]').find(":discoverable").first(),console.log(b),d.trigger({type:"display.wb",ident:f.attr("href")}).trigger({type:"select.wb","goto":g});break;case 9:return d.trigger({type:"reset.wb"});case 37:return a.preventDefault(),d.trigger({type:"increment.wb",cnode:j,increment:-1,current:h});case 39:return a.preventDefault(),d.trigger({type:"increment.wb",cnode:j,increment:1,current:h})}}),d.on("keydown",".wb-menu .item",function(a){var b,c,d,f,g,h,i,j,k;switch(a.stopPropagation(),k=e(a.target,!0),c=k[0],j=k[1],h=k[2],d=k[3],b=a.which,i=h.find(":focusable"),g=i.index(d.get(0)),b){case 27:case 37:return a.preventDefault(),f=j.filter('[href="#'+h.attr("id")+'"]'),c.trigger({type:"select.wb","goto":f});case 38:return a.preventDefault(),c.trigger({type:"increment.wb",cnode:i,increment:-1,current:g});case 40:return a.preventDefault(),c.trigger({type:"increment.wb",cnode:i,increment:1,current:g})}})}(jQuery,window,vapour),function(a,b,c){"use strict";var d=c.doc,e={selector:"[data-picture]",init:function(){var a=c.getMode();b._timer.remove(e.selector),b.Modernizr.load({test:b.matchMedia,nope:"site!deps/matchMedia"+a+".js",load:"site!deps/picturefill"+a+".js",complete:function(){d.trigger("picturefill.wb-data-picture")}})},picturefill:function(){void 0!==b.picturefill&&b.picturefill()}};d.on("timerpoke.wb",e.selector,e.init).on("picturefill.wb-data-picture",e.picturefill),b._timer.add(e.selector)}(jQuery,window,vapour),function(a,b,c){"use strict";var d=c.doc,e={selector:".wb-toggle",state:{},stateOn:"on",stateOff:"off",init:function(){var c=a(this);b._timer.remove(e.selector),void 0!==c.data("selector")?c.trigger("ariaControls.wb-toggle",{selector:c.data("selector"),parent:c.data("parent")}):a.error(".wb-toggle: you must specify a [data-selector] attribute with the CSS selector of the element(s) the toggle link controls.")},setAriaControls:function(b,c){var d,e,f,g=void 0!==c.parent?a(c.parent).find(c.selector):a(c.selector),h="",i=a(this);for(e=0,f=g.length;f>e;e++)d=g.eq(e),void 0===d.attr("id")&&d.attr("id","wb-toggle_"+e),h+=d.attr("id")+" ";i.attr("aria-controls",h.slice(0,-1))},click:function(b){var c=a(this);c.trigger("toggle.wb-toggle",{selector:c.data("selector"),parent:c.data("parent"),type:c.data("type")}),b.preventDefault(),b.target.focus()},toggle:function(b,c){var d=void 0!==c.parent?a(c.parent).find(c.selector):a(c.selector),f=e.getState(c.selector,c.parent,c.type),g=f===e.stateOn?e.stateOff:e.stateOn;d.wb("toggle",g,f),e.setState(c.selector,c.parent,g)},getState:function(a,b,c){return void 0===c?e.state.hasOwnProperty(a)?e.state[a].hasOwnProperty(b)?e.state[a][b]:e.state[a].all:e.stateOff:c===e.stateOn?e.stateOff:e.stateOn},setState:function(a,b,c){var d;if(void 0===e.state[a]&&(e.state[a]={all:e.stateOff}),void 0!==b)e.state[a][b]=c;else for(d in e.state[a])e.state[a].hasOwnProperty(d)&&(e.state[a][d]=c)}};d.on("timerpoke.wb ariaControls.wb-toggle toggle.wb-toggle click",e.selector,function(a){switch(a.type){case"click":e.click.apply(this,arguments);break;case"toggle":e.toggle.apply(this,arguments);break;case"ariaControls":e.setAriaControls.apply(this,arguments);break;case"timerpoke":e.init.apply(this,arguments)}}),b._timer.add(e.selector)}(jQuery,window,vapour);